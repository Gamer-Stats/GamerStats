{% extends 'base.html' %}
{% load static %} {% load age %}
<!-- Head Elements -->
{% block title %}{% block og_title %}{% block tw_title %}{% block tw_img_alt %}
{% if cats_page.title %}{{ cats_page.title }} Wiki{% else %}Esports Players and Teams Wiki{% endif %}
{% endblock %}{% endblock %}{% endblock %}{% endblock %}

{% block description %}{% block og_description %}{% block tw_description %}Read the latest and free encyclopedia
of esports players, teams, games, and streamers from all around the world.
{% endblock %}{% endblock %}{% endblock %}

{% block can_url %}https://gamerstats.net{% url 'wiki' %}{% if cats_page.slug %}{{ cats_page.slug }}/{% endif %}{% endblock %}

{% block schema %}

<script type="application/ld+json">
  {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://gamerstats.net"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Wiki"
        }
      ]
    }
    
</script>

{% endblock %}


{% block content %}
<!-- Page Header and Breadcrumb -->
<nav aria-label="breadcrumb" class="border-bottom bg--dark">
    <ol class="breadcrumb mb-0 p-2 d-flex">
        <li class="breadcrumb-item">
            <a class="text-12px text--light" href="{% url 'index' %}">Home</a>
        </li>
        <li class="breadcrumb-item active text-12px align-self-end text--light" aria-current="page">
            Wiki
        </li>
    </ol>
</nav>
<!-- bg-white shadow-sm rounded my-4 -->
<main class="container-md">
    <header class="border-bottom py-2 my-4">
        <h1 class="fs-3 fw-bold">Esports and Gamers' Wikis</h1>
    </header>
    <div class="row p-0">
        <div class="d-grid grid-xl-3 column-gap-2">
            <table class="html-table">
                <thead>
                    <tr>
                        <th class="w-20">Profle</th>
                        <th class="w-20 text-center">ID</th>
                        <th class="w-20 text-center">Name</th>
                        <th class="w-20 text-center">Country</th>
                        <th class="w-20 text-end">Profession</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in obj %}
                    <tr>
                        <td class="w-20">
                            <a href="{% url 'wiki_single' i.slug %}">
                                <img srcset="{{ i.avatar.image.url }}-140.webp" src="{{ i.avatar.image.url }}"
                                    alt="{{ i.title }}" title="{{ i.title }} Wiki" load="lazy" width="35" height="35">
                            </a>
                        </td>
                        <td class="w-20 text-center">
                            <a href="{% url 'wiki_single' i.slug %}" title="{{ i.title }} Wiki">
                                {{ i.title }}
                            </a>
                        </td>
                        <td class="w-20 text-center">{{ i.full_name }}</td>
                        <td class="w-20 text-center">{{ i.country }}</td>
                        <td class="w-20 text-end">{{ i.page_type }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <!-- Pagination -->
    <nav class="d-flex justify-content-center mt-4" aria-label="Pagination">
        <ol class="pagination">
            {% if obj.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ obj.previous_page_number }}">Previous</a>
            </li>
            {% endif %}
            {% for i in obj.paginator.page_range %}
            {% if i < obj.number|add:5 %} {% if i > obj.number|add:-5 %}
            {% if i == obj.number %}
            <li class="page-item active" aria-current="page">
                <a class="page-link" href="?page={{ obj.number }}">{{ obj.number }}</a>
            </li>
            {% else %}
            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% endif %}
            {% endif %}
            {% endif %}
            {% endfor %}
            {% if obj.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ obj.next_page_number }}">Next</a>
            </li>
            {% endif %}

        </ol>
    </nav>
</main>
<style>
    @media (min-width: 768px) {
        .sidebar-nav {
            max-width: 190px;
        }
    }

    .square-img {
        width: 250px;
        height: 250px;
    }
</style>
{% endblock %}