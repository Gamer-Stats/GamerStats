{% extends 'base.html' %} {% load thumbnail %} {% load age %}
{% block page_title %}{{ obj.meta_title }}{% endblock %}
{% block page_title_t %}{{ obj.meta_title }}{% endblock %}
{% block page_title_f %}{{ obj.meta_title }}{% endblock %}

{% block meta_desc %}{{ obj.meta_description }}{% endblock %}
{% block meta_desc_t %}{{ obj.meta_description }}{% endblock %}
{% block meta_desc_f %}{{ obj.meta_description }}{% endblock %}
{% block canonical_link %}{% if obj.canonical_url %}{{ obj.canonical_url }}{% else %}{{ request.build_absolute_uri }}{% endif %}{% endblock %}

{% block p_img_f %}{{ obj.avatar.image.url }}{% endblock %}
{% block p_img_t %}{{ obj.avatar.image.url }}{% endblock %}

{% block p_img_w_f %}{{ obj.avatar.image.width }}{% endblock %}
{% block p_img_h_f %}{{ obj.avatar.image.height }}{% endblock %}

{% block p_img_alt_f %}{{ obj.avatar.alt }}{% endblock %}
{% block p_img_alt_t %}{{ obj.avatar.alt }}{% endblock %}
{% block custom_metas %}
<script type="application/ld+json">
  {
      "@context": "https://schema.org",
      "@graph": [
          {
              "@type": "Organization",
              "@id": "https://gamerstats.net/#organization",
              "name": "Gamer Stats",
              "url": "https://gamerstats.net/",
              "sameAs": [
                  "https://www.facebook.com/GamerStats/",
                  "https://www.youtube.com/channel/UCl-xlnLd3GTSyhUjQ8SH8dg",
                  "https://twitter.com/TheGamerStats",
                  "https://www.instagram.com/thegamerstats/"
              ],
              "logo": {
                  "@type": "ImageObject",
                  "@id": "https://gamerstats.net/#logo",
                  "inLanguage": "en-US",
                  "url": "https://gamerstats.net/static/gamer-stats-logo.svg",
                  "width": 500,
                  "height": 500,
                  "caption": "Gamer Stats"
              },
              "image": {
                  "@id": "https://gamerstats.net/#logo"
              }
          },
          {
              "@type": "WebSite",
              "@id": "https://gamerstats.net/#website",
              "url": "https://gamerstats.net/",
              "name": "Gamer Stats - Esports, Gaming News and Updates",
              "description": "Esports &amp; Game Leaks, News, Pros Settings &amp; Setup, Streamers Rumors, and Much More!",
              "publisher": {
                  "@id": "https://gamerstats.net/#organization"
              },
              "potentialAction": [
                  {
                      "@type": "SearchAction",
                      "target": "https://gamerstats.net/search/?searched={search_term_string}",
                      "query-input": "required name=search_term_string"
                  }
              ],
              "inLanguage": "en-US"
          },
          {
              "@type": "ImageObject",
              "@id": "{{ request.build_absolute_uri }}#primaryimage",
              "inLanguage": "en-US",
              "url": "{{ obj.avatar.image.url }}",
              "width": {{ obj.avatar.image.width }},
              "height": {{ obj.avatar.image.height }},
              "caption": "{{ obj.title }}"
          },
          {
              "@type": "WebPage",
              "@id": "{{ request.build_absolute_uri }}#webpage",
              "url": "{{ request.build_absolute_uri }}",
              "name": "{{ obj.meta_title }} - Gamer Stats",
              "isPartOf": {
                  "@id": "https://gamerstats.net/#website"
              },
              "primaryImageOfPage": {
                  "@id": "{{ request.build_absolute_uri }}#primaryimage"
              },
              "datePublished": "{{ obj.created_at|date:'Y-m-d' }}T{{ obj.created_at|date:'H:iO' }}",
              "dateModified": "{{ obj.updated_at|date:'Y-m-d' }}T{{ obj.updated_at|date:'H:iO' }}",
              "breadcrumb": {
                  "@id": "{{ request.build_absolute_uri }}#breadcrumb"
              },
              "inLanguage": "en-US",
              "potentialAction": [
                  {
                      "@type": "ReadAction",
                      "target": [
                          "{{ request.build_absolute_uri }}"
                      ]
                  }
              ]
          },
          {
              "@type": "BreadcrumbList",
              "@id": "{{ request.build_absolute_uri }}#breadcrumb",
              "itemListElement": [
                  {
                    "@type": "ListItem",
                    "position": 1,
                    "item": {
                        "@type": "WebPage",
                        "@id": "https://gamerstats.net{% url 'news' %}",
                        "url": "https://gamerstats.net{% url 'news' %}",
                        "name": "News"
                    }
                },
                  {
                      "@type": "ListItem",
                      "position": 2,
                      "item": {
                          "@type": "WebPage",
                          "@id": "{{ request.build_absolute_uri }}",
                          "name": "{{ obj.meta_title }}"
                      }
                  }
              ]
          },
          {
              "@type": [
                  "NewsArticle"
              ],
              "@id": "{{ request.build_absolute_uri }}#article",
              "isPartOf": {
                  "@id": "{{ request.build_absolute_uri }}#webpage"
              },
              "author": {
                  "@type": "Person",
		  "name": "{{ obj.writer.name }}",
		  "url": "{{ obj.writer.twitter }}"
              },
              "publisher": {
                  "@type": "Organization",
                  "@id": "https://gamerstats.net/#organization",
                  "name": "Gamer Stats",
                  "url": "https://gamerstats.net/",
                  "logo": {
                      "@type": "ImageObject",
                      "url": "https://gamerstats.net/static/gamer-stats-logo.svg",
                      "name": "Gamer Stats"
                  },
                  "sameAs": [
                      "https://www.facebook.com/GamerStats/",
                      "https://www.youtube.com/channel/UCl-xlnLd3GTSyhUjQ8SH8dg",
                      "https://twitter.com/TheGamerStats",
                      "https://www.instagram.com/thegamerstats/"
                  ]
              },
              "headline": "{{ obj.meta_title }}",
              "datePublished": "{{ obj.created_at|date:'Y-m-d' }}T{{ obj.created_at|date:'H:iO' }}",
              "dateModified": "{{ obj.created_at|date:'Y-m-d' }}T{{ obj.created_at|date:'H:iO' }}",
	      "articleSection": "{% for i in obj.tags.all %}{{ i }},{% endfor %}",
              "mainEntityOfPage": {
                  "@id": "{{ request.build_absolute_uri }}#webpage"
              },
              "image": {
                  "@type": "ImageObject",
                  "@id": "{{ obj.avatar.image.url }}#primaryimage",
                  "url": "{{ obj.avatar.image.url }}",
                  "width": {{ obj.avatar.image.width }},
                  "height": {{ obj.avatar.image.height }},
                  "caption": "{{ obj.title }}"
              },
              "keywords": "{{ obj.meta_title }}",
              "inLanguage": "en-US",
              "copyrightYear": "2022",
              "copyrightHolder": {
                  "@id": "https://gamerstats.net/#organization"
              }
          }
      ]
  }
  </script>
<style>
    .responsive-table table tr a img {
    display: inline-block !important;
    margin: 0 !important;
    margin-right: 10px !important;
    margin-bottom: 8px !important;
    }
    .responsive-table {
        width: 100%;
        overflow: auto;
        border-radius: 8px;
        border: solid 1px rgb(229 229 229);
    }
    .responsive-table table, .responsive-table table th p, .responsive-table table td p {
        margin: 0;
    }
    .responsive-table table th, .responsive-table table td {
        padding: 10px;
    }
    .responsive-table table thead tr {
    background-color: var(--tw-prose-bold);
    color: #fff;
}
.responsive-table table thead tr th, .responsive-table table thead tr th a {
    color: currentColor;
    font-size: 13px;
    text-transform: uppercase;
}
.responsive-table table tbody tr, .responsive-table table tbody tr td a {
    background-color: var(--tw-prose-body);
    color: #fff;
}
.responsive-table table tbody tr th a, .responsive-table table tr th a, .responsive-table table tbody tr th {
    color: #fff;
    font-weight: 600;
}
.responsive-table table tr th {
    text-align: center;
}
.responsive-table table tr>td, .responsive-table table tr>th {
    border-right: solid 1px #e5e7eb;
}
.responsive-table table tr td:last-child, .responsive-table table tr>th:last-child {
    border-right: 0;
}
</style>
{% endblock %}
{% block main %}
<main class="">
  <div class="bg-gray-100 border-b">
    <div class="max-w-7xl text-gray-500 mx-auto border-t border-gray-200 py-3 px-4 sm:px-10">
      <nav class="flex" aria-label="Breadcrumb">
        <a class="flex space-x-2 sm:hidden text-gray-600 text-sm" href="{% url 'index' %}"
          class="group inline-flex space-x-3 text-xs font-medium text-gray-500 hover:text-gray-700">
          <svg class="flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-600"
            x-description="Heroicon name: solid/arrow-narrow-left" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z"
              clip-rule="evenodd"></path>
          </svg>
          <span>Back to Homepage</span>
        </a>
        <div class="hidden sm:block">
          <ol role="list" class="flex items-center space-x-4">
            <li>
              <div>
                <a href="{% url 'index' %}" class="text-gray-500 hover:text-gray-600">
                  <svg class="flex-shrink-0 h-5 w-5" x-description="Heroicon name: solid/home"
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path
                      d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z">
                    </path>
                  </svg>
                  <span class="sr-only">Home</span>
                </a>
              </div>
            </li>
            <li>
              <div class="flex items-center">
                <svg class="flex-shrink-0 h-5 w-5 text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                  viewBox="0 0 20 20" aria-hidden="true">
                  <path d="M5.555 17.776l8-16 .894.448-8 16-.894-.448z"></path>
                </svg>
                <a href="{% url 'news' %}" class="ml-4 text-xs font-medium text-gray-500 hover:text-gray-700">News</a>
              </div>
            </li>

            <li>
              <div class="flex items-center">
                <svg class="flex-shrink-0 h-5 w-5 text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                  viewBox="0 0 20 20" aria-hidden="true">
                  <path d="M5.555 17.776l8-16 .894.448-8 16-.894-.448z"></path>
                </svg>
                <a href="{{ request.build_absolute_uri }}"
                  class="ml-4 text-xs font-medium text-gray-500 hover:text-gray-700" aria-current="page">
                  {{ obj.title }}
                </a>
              </div>
            </li>

          </ol>
        </div>
      </nav>
    </div>
  </div>
  <!-- Article -->
  <article class="max-w-5xl mx-auto px-4 sm:px-10">
    <header class="py-6 sm:py-8">
      <h1 class="mb-4 text-gray-900 text-2xl sm:text-4xl font-extrabold tracking-tight">{{ obj.title }}</h1>
      <p class="mb-4 sm:my-5 text-xs sm:text-sm font-medium text-gray-500">
        <span class="">Published on
          <time datetime="{{ obj.created_at|date:'Y-m-d' }}T{{ obj.created_at|date:'H:iO' }}">
            {{ obj.created_at }}
          </time>
        </span>
        and last updated
        <time datetime="{{ obj.updated_at|date:'Y-m-d' }}T{{ obj.updated_at|date:'H:iO' }}">
          {{ obj.updated_at|article_age|safe }}
        </time> by
	{% if obj.writer %}
	<a class="text-indigo-700" href="{{ obj.writer.twitter }}" target="_blank">{{ obj.writer.name }}</a>
	{% else %}
	<a class="text-indigo-700" href="https://twitter.com/thegamerstats/" target="_blank">Gamer Stats</a>
	{% endif %}
      </p>
      <figure>
        <img class="rounded w-h-198 sm:w-h-450 object-cover"
          srcset='{% thumbnail obj.avatar.image "352x198" quality=85 format="WEBP" as im %}{{ im.url }} 1w, {% endthumbnail %} {% thumbnail obj.avatar.image "800x450" quality=85 format="WEBP" as im %} {{ im.url }} 800w {% endthumbnail %}'
          sizes="(max-width: 600px) 1px, 800px" src="{{ obj.avatar.image.url }}" alt="{{ obj.title }}">
        <figcaption class="text-xs text-gray-500 pt-2">{{ obj.avatar.caption }}</figcaption>
      </figure>
    </header>
    <section class="prose prose-indigo text-gray-500 mb-8">
	    <div class="mb-4 text-base sm:text-xl">{{ obj.overview|safe }}</div>
	    <div>{{ obj.body|safe }}</div>
	    {% if obj.ref %}
	    <div class="mt-4">{{ obj.ref|safe  }}</div>
	    {% endif  %}
    </section>
    <footer class="text-gray-500 mb-8">
      <p class="sr-only">Posted in: </p>
      {% for i in obj.tags.all %}
      <a class="text-sm bg-gray-800 p-1 px-2 rounded text-gray-300 hover:bg-indigo-600"
        href="{% url 'news_filter' i.slug %}">{{ i }}</a>
      {% endfor %}
    </footer>
  </article>
  <aside class="max-w-5xl mx-auto mb-8 px-4 sm:px-10">
    <h2 class="mb-4 text-base sm:text-xl font-bold">Related news</h2>
    {% for values in news %}
    {% for k, v in values.items %}
    <strong>{{ k }}</strong> <br>
    <img src="{{ v }}" alt=""> <br>
    {% endfor %}
    {% endfor %}

    {% comment %}
    {% include 'components/news_loop.html' %}
    {% endcomment %}
  </aside>
</main>
<script>
	dd = document.getElementsByTagName("table");
	for(let i=0; i < dd.length; i++) {
		el = document.createElement("DIV");
		el.classList.add("responsive-table");
		dd[i].parentNode.insertBefore(el, dd[i])
		el.appendChild(dd[i])
	}
</script>
{% endblock %}
