{% extends 'base.html' %}
{% load static %} {% load age %} {% load specs_price %}
<!-- Head Elements -->
{% block title %}Pro Settings and Setup{% endblock %}

{% block content %}
<!-- Page Header and Breadcrumb -->
<header class="container-fluid border-bottom" style="background-color: #1f2936">
  <nav aria-label="breadcrumb" class="container">
    <ol class="breadcrumb mb-0 py-2 flex-row">
      <li class="breadcrumb-item"><a class="text-12px text-secondary" href="{% url 'wiki' %}">Wiki</a>
      </li>
      <li class="breadcrumb-item active text-12px align-self-end text-secondary" aria-current="page">
        {{ obj.meta_title }}
      </li>
    </ol>
  </nav>
</header>
<div class="container">
  <div class="row flex-row">
    <main class="col-12">
      <!-- Main Content -->
      <article class="container pt-lg-5 pb-lg-2 pt-3 px-0 px-lg-2">
        <div class="row">
          <div class="col-lg-4">
            <div class="border rounded overflow-hidden text-center">
              <img class="img-fluid" src="{% static 'img/s1mp.jpg' %}" alt="{{ obj.meta_title }}"
                title="{{ obj.meta_title }}">
              <img class="img-profile d-inline ms-2 rounded-circle border border-2 border-primary"
                src="{% static 'img/square.webp' %}" alt="{{ obj.title }}" title="{{ obj.title }}">
              <h1 class="mt-3 fs-5 fw-bold">FULL NAME</h1>
              <table class="table table-striped table-hover text-start">
                <thead class="bg--dark">
                  <tr>
                    <th colspan="2" class="fw-semibold text-center">
                      {{ obj.title }} Information
                    </th>
                  </tr>
                </thead>
                <tbody>
                  {% for field, value in obj.info_box.data.items %}
                  <tr>
                    <th scope="row">{{ field }}</th>
                    <td>{{ value }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
              <a class="btn btn-sm btn-primary my-3" href="{% url 'setup_single' obj.slug %}" title="s1mple settings">
                s1mple settings
              </a>
            </div>
          </div>
          <div class="col-lg-8 mt-3 mt-lg-0">
            <div class="border rounded bg-light p-3 pb-0 mb-3">
              <h2 class="fs-3 fw-bold px-2 px-md-0">{{ obj.meta_title }}</h2>
              <p class="text-12px text-muted text-uppercase px-2 px-md-0">Last Updated:
                <time class="text-12px text-muted text-uppercase "
                  datetime="{{ i.created_at|date:'Y-m-d' }}T{{ i.created_at|date:'H:iO' }}">
                  {{ obj.updated_at|article_age }}
                </time>
              </p>
              {{ obj.overview|safe }}
            </div>
            <section class="text-14px border rounded overflow-hidden p-3 mb-4 wiki_body">
              {{ obj.body|safe }}
            </section>
            <footer class="border rounded bg-light p-3 mb-3">
              <h2 class="fs-5 fw-bold mb-3">Categories:</h2>
              {% for tag in obj.tags.all %}
              <a class="btn btn-primary py-0 px-1 text-12px fw-semibold" href="{% url 'wiki_filter' tag.slug %}">
                {{ tag }}</a>
              {% endfor %}
            </footer>
          </div>
        </div>
      </article>
    </main>
    <aside>
      <h2 class="visually-hidden">Related</h2>
      <section class="border rounded bg-light p-3 pb-0">
        <h3 class="fs-5 fw-bold mb-3">Related Wikis</h3>
        <ul class="list-unstyled d-flex flex-row flex-wrap mb-0">
          {% for i in obj.related.all %}
          <li class="col-6 col-sm-4 col-md-3 col-lg-2">
            <div class="overflow-hidden rounded m-2 position-relative hover-element__main">
              <img class="img-fluid" src="{% static 'img/square.webp' %}" alt="">
              <h3 class="text-14px mt-2 fw-semibold text-primary hover-element__border hover-element__border__jam">
                {{ i.title }}</h3>
              <a class="stretched-link" href="{% url 'wiki_single' i.slug %}">
                <span class="visually-hidden">{{ i.title }} settings and setup</span>
              </a>
            </div>
          </li>
          {% endfor %}
        </ul>
      </section>
    </aside>
  </div>
</div>
<script>
  let table = document.getElementsByTagName("table");
  for (let i = 0; i < table.length; i++) {
    table[i].classList.add("table", "table-hover", "table-striped", "m-0");

    let div = document.createElement("DIV");
    div.classList.add("table-responsive", "border", "rounded");

    table[i].parentNode.insertBefore(div, table[i]);
    div.appendChild(table[i]);

  }
  let th = document.getElementsByTagName("th");
  for (let i = 0; i < th.length; i++) {
    totalChar = th[i].textContent.length;
    th[i].style.minWidth = totalChar * 8.5 + 'px';
  }

</script>


{% endblock %}