{% extends 'base.html' %}
{% load static %} {% load age %} {% load specs_price %}
<!-- Head Elements -->
{% block title %}{% block og_title %}{% block tw_title %}{% block tw_img_alt %}{{ obj.meta_title }}
{% endblock %}{% endblock %}{% endblock %}{% endblock %}

{% block description %}{% block og_description %}{% block tw_description %}{{ obj.meta_description }}
{% endblock %}{% endblock %}{% endblock %}

{% block tw_url %}{% block og_url %}{% block can_url %}{{ request.build_absolute_uri }}{% endblock %}
{% endblock %}{% endblock %}

{% block schema %}

<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "{{ obj.meta_title }}",
        "image": ["{{ obj.avatar.image.url }}", "{{ obj.meta_images.hd_image.url }}"],
        "datePublished": "{{ obj.created_at|date:'c' }}",
        "dateModified": "{{ obj.updated_at|date:'c' }}",
        "articleSection": "Wiki",
        "author": {
          "@type": "Person",
          "name": "{{ obj.writer }}",
          "url": "{{ obj.writer.twitter }}"
        },
        "publisher": {
          "@type": "Organization",
          "name": "Gamer Stats",
          "logo": "{% static 'img/g-dark.png' %}"
        }
      }
</script>

<script type="application/ld+json">
  {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://gamerstats.net{% url 'index' %}"
      },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Wiki",
          "item": "https://gamerstats.net{% url 'wiki' %}"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "{{ obj.meta_title }}"
        }
      ]
    }
    
</script>

{% endblock %}


{% block content %}
<!-- Page Header and Breadcrumb -->
<nav aria-label="breadcrumb" class="container-md">
  <div class="row mx-0 border-bottom">
    <ol class="breadcrumb mb-0 py-2 d-flex">
      <li class="breadcrumb-item"><a class="text-12px" href="{% url 'index' %}">Home</a></li>
      <li class="breadcrumb-item"><a class="text-12px" href="{% url 'wiki' %}">Wiki</a></li>
      <li class="breadcrumb-item active text-12px align-self-end" aria-current="page">
        {{ obj.meta_title }}
      </li>
    </ol>
  </div>
</nav>
<main class="container-fluid bg-white">
  <article class="row pt-4 pt-md-5">
    <div class="col-lg d-none d-lg-block border-end-lg" style="max-width: 180px;">
      <nav class="text-12px border position-sticky top-0" aria-label="table of contents">
        <h2 class="bg--dark fw-semibold p-2 fs-6 text-uppercase">On this page</h2>
        <ol class="lh-lg">
          <li><a href="#{{ history_title|cut:' ' }}">{{ history_title }}</a></li>
          <li><a href="#{{ career_title|cut:' ' }}">{{ career_title }}</a></li>
          <li><a href="#{{ team_history_title|cut:' ' }}">{{ team_history_title }}</a></li>
          <li><a href="#achievements">Achievements</a></li>
          {% if obj.controversies %}
          <li><a href="#controversies">Controversies</a></li>
          {% endif %}
        </ol>
      </nav>
    </div>
    <div class="col-lg">
      <div class="d-flex flex-column flex-md-row-reverse">
        <div class="col-12 col-md-4">
          <div class="overview d-block d-md-none">
            <h1 class="fs-3 fw-bold">{{ obj.title }} {% if obj.full_name is not None %} - <i>{{ obj.full_name }}</i>
              {% endif %}</h1>
            {{ obj.overview|safe }}
          </div>
          <table class="mx-auto">
            <thead>
              <tr>
                <th colspan="2" class="text-center">
                  <picture>
                    <img class="profle-image bg-gradient"
                      srcset="{{ obj.avatar.image.url  }}-140.webp, {{ obj.avatar.image.url  }}-180.webp 1.2x"
                      src="{{ obj.avatar.image.url  }}" alt="{{ obj.meta_title }}" title="{{ obj.title }}" width="150"
                      height="150">
                  </picture>
                </th>
              </tr>
            </thead>
            <tbody>
              {% for field, value in obj.info_box.data.items %}
              <tr>
                <th scope="row">{{ field }}</th>
                <td>{{ value }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="col-12 col-md-8 heading-fix">
          <div class="overview d-none d-md-block">
            <h1 class="fs-3 fw-bold">{{ obj.title }} {% if obj.full_name is not None %} - <i>{{ obj.full_name }}</i>
              {% endif %}</h1>
            {{ obj.overview|safe }}
          </div>
          <nav class="text-12px border d-inline-block d-lg-none mb-2" style="min-width: 180px;"
            aria-label="table of contents">
            <h2 class="bg--dark fw-semibold p-2 fs-6 text-uppercase">On this page</h2>
            <ol class="lh-lg">
              <li><a href="#{{ history_title|cut:' ' }}">{{ history_title }}</a></li>
              <li><a href="#{{ career_title|cut:' ' }}">{{ career_title }}</a></li>
              <li><a href="#{{ team_history_title|cut:' ' }}">{{ team_history_title }}</a></li>
              <li><a href="#achievements">Achievements</a></li>
              {% if obj.controversies %}
              <li><a href="#controversies">Controversies</a></li>
              {% endif %}
            </ol>
          </nav>

          <section class="text-14px pt-2">
            <h2 class="fs-4 fw-bold border-bottom pb-2" id="{{ history_title|cut:' ' }}">{{ history_title }}</h2>
            {% if obj.history %}
            {{ obj.history|safe }}
            {% else %}
            This section requires references and more work.
            {% endif %}
          </section>
          <section class="text-14px pt-2">
            <h2 class="fs-4 fw-bold border-bottom pb-2" id="{{ career_title|cut:' ' }}">{{ career_title }}</h2>
            {% if obj.career %}
            {{ obj.career|safe }}
            {% else %}
            This section requires references and more work.
            {% endif %}
          </section>
          <section class="text-14px pt-2">
            <h2 class="fs-4 fw-bold border-bottom pb-2" id="{{ team_history_title|cut:' ' }}">{{ team_history_title }}
            </h2>
            {% if obj.team_history %}
            {{ obj.team_history|safe }}
            {% else %}
            This section requires references and more work.
            {% endif %}
          </section>
          <section class="text-14px pt-2">
            <h2 class="fs-4 fw-bold border-bottom pb-2" id="achievements">Awards and Achievements</h2>
            {% if obj.achievements %}
            {{ obj.achievements|safe }}
            {% else %}
            This section requires references and more work.
            {% endif %}
          </section>
          {% if obj.controversies %}
          <section class="text-14px pt-2">
            <h2 class="fs-4 fw-bold border-bottom pb-2" id="controversies">Controversies</h2>
            {{ obj.controversies|safe }}
          </section>
          {% endif %}
        </div>
      </div>
    </div>
  </article>
</main>
{% endblock %}